import xmlrpc.client

HOST = 'localhost'
PORT = 8069
DB = 'sale_order_signature'
USER = 'admin'
PASS = 'admin'
url = 'http://%s:%d/xmlrpc/' % (HOST, PORT)

obj = xmlrpc.client.ServerProxy(url+'object')
common = xmlrpc.client.ServerProxy(url+'common')

uid = common.login(DB, USER, PASS)

sale_state_orders = obj.execute_kw(DB, uid, PASS, 'sale.order', 'search',
    [[['state', '!=', 'sale']]])

print("Sale state orders : ", sale_state_orders)

default_signature = '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'

for ids in sale_state_orders:
	obj.execute_kw(DB, uid, PASS, 'sale.order', 'write', [[ids], {'user_signature': default_signature}])

"""
Add common text to the signature field of thos records whose state are in "sale" 
"""